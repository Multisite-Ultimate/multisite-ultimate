(O=>{O.fn.tipTip=function(t){var g,b,M,w=O.extend({activation:"hover",keepAlive:!1,maxWidth:"200px",edgeOffset:10,defaultPosition:"bottom",delay:400,fadeIn:200,fadeOut:200,attribute:"title",content:!1,enter:function(){},exit:function(){}},t);return O("#tiptip_holder").length<=0?(g=O('<div id="tiptip_holder" style="max-width:'+w.maxWidth+';"></div>'),b=O('<div id="tiptip_content"></div>'),M=O('<div id="tiptip_arrow"></div>'),O("body").append(g.html(b).prepend(M.html('<div id="tiptip_arrow_inner"></div>')))):(g=O("#tiptip_holder"),b=O("#tiptip_content"),M=O("#tiptip_arrow")),this.each(function(){var _,m,v=O(this);function t(){w.enter.call(this),b.html(_),g.hide().removeAttr("class").css("margin","0"),M.removeAttr("style");var t=parseInt(v.offset().top),e=parseInt(v.offset().left),o=parseInt(v.outerWidth()),i=parseInt(v.outerHeight()),n=g.outerWidth(),r=g.outerHeight(),a=Math.round((o-n)/2),d=Math.round((i-r)/2),f=Math.round(e+a),p=Math.round(t+i+w.edgeOffset),u="",h="",l=Math.round(n-12)/2,c=("bottom"==w.defaultPosition?u="_bottom":"top"==w.defaultPosition?u="_top":"left"==w.defaultPosition?u="_left":"right"==w.defaultPosition&&(u="_right"),a+e<parseInt(O(window).scrollLeft())),s=n+e>parseInt(O(window).width()),o=(c&&a<0||"_right"==u&&!s||"_left"==u&&e<n+w.edgeOffset+5?(u="_right",h=Math.round(r-13)/2,l=-12,f=Math.round(e+o+w.edgeOffset),p=Math.round(t+d)):(s&&a<0||"_left"==u&&!c)&&(u="_left",h=Math.round(r-13)/2,l=Math.round(n),f=Math.round(e-(n+w.edgeOffset+5)),p=Math.round(t+d)),t+i+w.edgeOffset+r+8>parseInt(O(window).height()+O(window).scrollTop())),s=t+i-(w.edgeOffset+r+8)<0;o||"_bottom"==u&&o||"_top"==u&&!s?("_top"==u||"_bottom"==u?u="_top":u+="_top",h=r,p=Math.round(t-(r+5+w.edgeOffset))):(s|("_top"==u&&s)||"_bottom"==u&&!o)&&("_top"==u||"_bottom"==u?u="_bottom":u+="_bottom",h=-12,p=Math.round(t+i+w.edgeOffset)),"_right_top"==u||"_left_top"==u?p+=5:"_right_bottom"!=u&&"_left_bottom"!=u||(p-=5),"_left_top"!=u&&"_left_bottom"!=u||(f+=5),M.css({"margin-left":l+"px","margin-top":h+"px"}),g.css({"margin-left":f+"px","margin-top":p+"px"}).attr("class","tip"+u),m&&clearTimeout(m),m=setTimeout(function(){g.stop(!0,!0).fadeIn(w.fadeIn)},w.delay)}function e(){w.exit.call(this),m&&clearTimeout(m),g.fadeOut(w.fadeOut)}""!=(_=w.content||v.attr(w.attribute))&&(w.content||v.attr("data-"+w.attribute,_),m=!1,"hover"==w.activation?(v.hover(function(){t()},function(){w.keepAlive||e()}),w.keepAlive&&g.hover(function(){},function(){e()})):"focus"==w.activation?v.focus(function(){t()}).blur(function(){e()}):"click"==w.activation&&(v.click(function(){return t(),!1}).hover(function(){},function(){w.keepAlive||e()}),w.keepAlive)&&g.hover(function(){},function(){e()}))})}})(jQuery);