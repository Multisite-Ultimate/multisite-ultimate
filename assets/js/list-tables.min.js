((o,s)=>{s.addAction("wu_list_table_update","nextpress/wp-ultimo",function(e,t,i){"pending"===e.type&&"site_list_table"===t.table_id?i.find("select[name^=action] > option[value=delete]").attr("value","delete-pending"):i.find("select[name^=action] > option[value=delete-pending]").attr("value","delete")}),o(document).on("click","#cb-select-all-grid",function(e){e.preventDefault();var e=jQuery(this).parents("form").find("#the-list").find("input[type=checkbox]"),t=e.prop("checked");e.parents(".wu-grid-item").toggleClass("wu-grid-item-selected",!t),e.prop("checked",!t)}),o(document).on("change",".wu-grid-item input[type=checkbox]",function(){var e=o(this).prop("checked");o(this).parents(".wu-grid-item").toggleClass("wu-grid-item-selected",e)}),wu_create_list=function(l){return{el:"#"+l,filters_el:"#"+l+"-filters",initialized:!1,init(){let i=this;var e=o("#wu-"+l);let a;return jQuery("body").on("click","#doaction, #doaction2",function(e){var t=jQuery(e.target).parents("form").serialize();let i=new URL("https://example.com?"+t);var t=i.searchParams.get("action")||i.searchParams.get("action2"),a=i.searchParams.getAll("bulk-delete[]");"-1"!==t&&a.length&&(e.preventDefault(),i.searchParams.set("bulk_action",t),i.searchParams.forEach((e,t)=>{"bulk_action"!==t&&"bulk-delete[]"!==t&&i.searchParams.delete(t)}),i.searchParams.set("model",wu_list_table.model),wubox.show(wu_list_table.i18n.confirm,wu_list_table.base_url+"&"+i.searchParams.toString()))}),e.on("click",".tablenav-pages a, .manage-column.sortable a, .manage-column.sorted a",function(e){e.preventDefault();e=this.search.substring(1),e=o.extend({},i.__get_query(e),{order:i.__query(e,"order")||"DESC",paged:i.__query(e,"paged")||"1",s:i.__query(e,"s")||""});i.update(e)}),e.on("keyup","input[name=paged]",function(e){13===e.which&&e.preventDefault();let t={paged:parseInt(o("input[name=paged]").val())||"1",s:o("input[name=s]").val()||""};window.clearTimeout(a),a=window.setTimeout(function(){i.update(t)},500)}),!1===i.initialized&&o(i.filters_el).get(0)&&(i.filters=i.init_filters()),i.initialized=!0,i},copy:function(e){return JSON.parse(JSON.stringify(e))},init_filters(){if(void 0!==window.Vue){let a=this,t=a.copy(window[l+"_config"].filters);return new Vue({el:a.filters_el,data(){return{open:!0,view:!1,available_filters:[],filters:[]}},computed:{},mounted(){let i;wu_on_load(),o(a.filters_el+" form.search-form").on("submit",function(e){e.preventDefault()}),o(a.filters_el+" input[name=s]").on("input keyup",function(e){13===e.which&&e.preventDefault();let t={paged:parseInt(o("input[name=paged]").val())||"1",s:o("input[name=s]").val()||""};""!==o("input[name=s]").val()&&(t.paged="1"),window.clearTimeout(i),i=window.setTimeout(function(){a.update(t)},500)})},methods:{set_view(e,t){var i=window.location.href.split("?")[1],i=o.extend({},a.__get_query(i),{paged:a.__query(i,"paged")||"1",s:a.__query(i,"s")||""});this.view=t,i[e]=t,jQuery(".wu-filter .current").removeClass("current"),a.update(i)},get_filter_type(e){return _.findWhere(t,{field:e}).type},get_filter_rule(e){return _.findWhere(t,{field:e}).rule},remove_filter(e){this.filters.splice(e,1)},add_new_filter(){this.filters.push(_.first(a.copy(this.available_filters)))},open_filters(){this.open=!0},close_filters(){this.open=!1}}})}},set_history(e){if("page"===window[l+"_config"].context)try{var t=_.omit(e,function(e,t){return"action"===t||"table_id"===t||!e||0===t.indexOf("_")});history.pushState({},null,"?"+o.param(t))}catch(e){console.warn("Browser does not support pushState.",e)}},update(e){let t=this,i=o("#wu-"+l),a={action:"wu_list_table_fetch_ajax_results",table_id:l,id:o("input#id").val()},n=(a["_ajax_"+l+"_nonce"]=o("#_ajax_"+l+"_nonce").val(),o.extend({},a,e)),r=i.find("tbody, .wu-grid-content");r.animate({opacity:.4},300),o.ajax({url:ajaxurl,data:n,statusCode:{403(){r.animate({opacity:1},300)}},success(e){t.set_history(n,a),r.animate({opacity:1},300),void 0!==e.rows&&r.html(e.rows),e.column_headers.length&&i.find("thead tr, tfoot tr").html(e.column_headers),e.pagination.top.length&&i.find(".tablenav.top .tablenav-pages").html(o(e.pagination.top).html()),e.pagination.bottom.length&&i.find(".tablenav.bottom .tablenav-pages").html(o(e.pagination.bottom).html()),s.doAction("wu_list_table_update",e,n,i)}})},__query(e,t){var i=e.split("&");for(let e=0;e<i.length;e++){var a=i[e].split("=");if(a[0]===t)return a[1]}return!1},__get_query(e){var t=e.split("&"),i={};for(let e=0;e<t.length;e++){var a=t[e].split("=");i[a[0]]=a[1]}return i}}}})(jQuery,wp.hooks);